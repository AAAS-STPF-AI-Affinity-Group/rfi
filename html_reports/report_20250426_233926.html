
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Public Comments Analysis</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
        <style>
            .filter-panel {
                max-height: 300px;
                overflow-y: auto;
            }
            :root {
                --primary: #4F46E5;
                --primary-hover: #4338CA;
                --secondary: #F59E0B;
                --light: #F3F4F6;
                --dark: #1F2937;
                --success: #10B981;
                --danger: #EF4444;
            }
            .btn-primary {
                background-color: var(--primary);
                color: white;
                transition: all 0.2s;
            }
            .btn-primary:hover {
                background-color: var(--primary-hover);
            }
            .btn-secondary {
                background-color: var(--secondary);
                color: white;
                transition: all 0.2s;
            }
            .btn-secondary:hover {
                background-color: #D97706;
            }
            .card {
                border-radius: 0.5rem;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
                transition: all 0.3s;
            }
            .card:hover {
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            }
            .table-header {
                background-color: var(--dark);
                color: white;
            }
            .table-row:nth-child(even) {
                background-color: var(--light);
            }
            .pagination-btn {
                background-color: var(--light);
                border: 1px solid #D1D5DB;
                padding: 0.5rem 1rem;
                transition: all 0.2s;
            }
            .pagination-btn:hover:not(:disabled) {
                background-color: #D1D5DB;
            }
            .pagination-btn:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }
            .pagination-info {
                background-color: white;
                border: 1px solid #D1D5DB;
                padding: 0.5rem 1rem;
            }
            .dropdown-menu {
                position: absolute;
                background-color: white;
                border: 1px solid #D1D5DB;
                border-radius: 0.25rem;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                padding: 0.5rem;
                z-index: 10;
                max-height: 300px;
                overflow-y: auto;
                display: none;
            }
            .dropdown-menu.show {
                display: block;
            }
            .column-filter {
                padding: 4px;
                margin-top: 4px;
                width: 100%;
                font-size: 0.75rem;
                border: 1px solid #D1D5DB;
                border-radius: 0.25rem;
            }
            .filter-dropdown {
                position: absolute;
                background: white;
                border: 1px solid #D1D5DB;
                border-radius: 0.25rem;
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);
                z-index: 20;
                display: none;
                width: 250px;
                max-height: 300px;
                overflow-y: auto;
                padding: 0.5rem;
            }
            .filter-toggle {
                cursor: pointer;
                margin-left: 4px;
                display: inline-block;
            }
            .filter-toggle:hover {
                color: var(--primary);
            }
            .th-container {
                display: flex;
                align-items: center;
                justify-content: space-between;
            }
        </style>
    </head>
    <body class="bg-gray-100 p-6">
        <div class="container mx-auto">
            <h1 class="text-3xl font-bold mb-8 text-center text-indigo-700">Public Comments Analysis: AI Action Plan</h1>
            
            <!-- Total Submissions Info -->
            <div class="bg-white p-6 rounded-lg shadow mb-8 card">
                <div class="flex justify-between items-center">
                    <h2 class="text-xl font-semibold text-gray-800">Total Submissions</h2>
                    <p class="text-2xl font-bold text-indigo-600" id="totalSubmissions">...</p>
                </div>
                
                <!-- Main control buttons -->
                <div class="flex justify-end mt-4">
                    <button id="clearFilters" class="btn-secondary py-2 px-4 rounded mr-2">
                        Clear All Filters
                    </button>
                </div>
            </div>

            <!-- Data Table -->
            <div class="bg-white p-6 rounded-lg shadow card">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-semibold text-gray-800">Data Table</h2>
                    <div class="flex space-x-2">
                        <!-- Column selector dropdown -->
                        <div class="relative" id="columnSelectorContainer">
                            <button id="columnSelector" class="btn-primary py-2 px-4 rounded flex items-center">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                                </svg>
                                Show/Hide Columns
                            </button>
                            <div id="columnMenu" class="dropdown-menu">
                                <!-- Column checkboxes will be added here by JavaScript -->
                            </div>
                        </div>
                        
                        <button id="downloadCsv" class="btn-primary py-2 px-4 rounded flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                            </svg>
                            Download Filtered CSV
                        </button>
                    </div>
                </div>
                
                <!-- Pagination controls - top -->
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center">
                        <span class="text-gray-700 mr-2">Show</span>
                        <select id="rowsPerPage" class="p-2 border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50" selected>50</option>
                            <option value="100">100</option>
                        </select>
                        <span class="text-gray-700 ml-2">entries</span>
                    </div>
                    <div class="flex">
                        <button id="prevPage" class="pagination-btn rounded-l">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <span id="pageInfo" class="pagination-info">Page 1 of 1</span>
                        <button id="nextPage" class="pagination-btn rounded-r">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="overflow-x-auto">
                    <table id="dataTable" class="min-w-full bg-white border border-gray-200">
                        <thead id="tableHeader">
                            <!-- Column headers will be added by JavaScript -->
                        </thead>
                        <tbody>
                            <!-- Rows injected by JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Pagination controls - bottom -->
                <div class="flex justify-between items-center mt-6">
                    <div id="tableInfo" class="text-sm text-gray-600">Showing 0 to 0 of 0 entries</div>
                    <div class="flex">
                        <button id="prevPageBottom" class="pagination-btn rounded-l">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <span id="pageInfoBottom" class="pagination-info">Page 1 of 1</span>
                        <button id="nextPageBottom" class="pagination-btn rounded-r">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            
            <footer class="mt-8 text-center text-gray-500 text-sm">
                <p>Generated on 2025-04-26 23:39:26</p>
            </footer>
        </div>

        <!-- Filter dropdown template - will be cloned for each column -->
        <div id="filterDropdownTemplate" class="filter-dropdown" style="display: none;">
            <div class="filter-panel">
                <!-- For enumerated fields (checkboxes) -->
                <div class="enumerated-options"></div>
                <!-- For text search -->
                <div class="text-search">
                    <input type="text" class="column-filter" placeholder="Search...">
                </div>
            </div>
        </div>

        <script>
            
            // Embedded version - data included in the page
            const analysisData = [{"filename":"AANA-RFI-2025.txt","summary":"The American Association of Nurse Anesthesiology (AANA) comments on the development of an AI Action Plan, emphasizing the importance of prioritizing patient safety in the integration of AI into healthcare, particularly in anesthesia. They advocate for AI to enhance, rather than replace, the clinical judgment of Certified Registered Nurse Anesthetists (CRNAs), and outline several recommendations including rigorous safety standards, transparency in AI processes, and the need for human oversight.","submitter_type":"Industry\/professional\/scientific association","agencies":["National Science Foundation (NSF)","Networking and Information Technology Research and Development (NITRD)"],"interesting_quotes":["AI should enhance CRNAs\u2019 ability to deliver safe, high-quality care rather than replace their extensive knowledge and expertise.","The development and deployment of AI in anesthesia care should be subject to appropriate regulatory safeguards, ensuring that patient safety remains the top priority.","As AI continues to shape the future of healthcare, it is imperative that its deployment prioritizes patient safety and enhances, rather than undermines, the expertise of CRNAs."],"sentiment_rating":4,"sentiment_rationale":"The submission expresses a somewhat enthusiastic attitude towards AI, highlighting its potential benefits while also urging caution to ensure safety and oversight.","main_topics":["Application and Use in the Public Sector","Data Privacy and Security","Ethical AI Frameworks and Bias Mitigation","Technical and Safety Standards","Workforce Development and Education"],"additional_themes":["Patient safety","Interdisciplinary collaboration","Operational decision-making"],"keywords":["Patient safety","Anesthesia","AI integration","CRNAs","Healthcare"],"policy_suggestions":["AI as a supportive tool, not a replacement","Robust patient safety standards for AI in healthcare","Ensure human oversight and decision-making with AI tools","Prioritize transparency and explainability in AI decision-making","Implement regulatory safeguards and accountability for AI development"]},{"filename":"1Day-Sooner-RFI-2025.txt","summary":"The submission provides recommendations for the U.S. Department of Health and Human Services (HHS) and the Food and Drug Administration (FDA) to enhance AI integration in healthcare and improve regulatory processes. It emphasizes the creation of an AI Corps to support AI adoption across HHS agencies, the necessity for data readiness, and various strategies for the FDA to leverage AI to expedite drug reviews and foster innovation. The document highlights the need for collaboration and clearer operational guidance within the AI Action Plan.","submitter_type":"Non-profit","agencies":["Department of Health and Human Services (HHS)","Food and Drug Administration (FDA)"],"interesting_quotes":["This moment represents a critical opportunity for the Administration to affirm its commitment to advancing AI capabilities.","To unlock AI\u2019s full potential within HHS, an AI Corps should be created to provide specialized expertise across the Department\u2019s ten agencies.","Proper integration of AI could expedite reviews, reduce costs, and yield faster patient access to innovative therapies."],"sentiment_rating":4,"sentiment_rationale":"The submission expresses a somewhat enthusiastic outlook on AI adoption, highlighting its potential benefits for healthcare and regulatory efficiency, while also calling for the establishment of focused initiatives to support its integration.","main_topics":["Application and Use in the Public Sector","Innovation and Competition","Technical and Safety Standards","Workforce Development and Education"],"additional_themes":["Healthcare Improvement","Regulatory Efficiency"],"keywords":["AI integration","HHS","FDA","healthcare innovation","regulatory processes"],"policy_suggestions":["Establish an AI Corps within HHS","Prioritize data readiness for AI integration at the FDA","Conduct an FDA Reviewer Benchmark Test on AI-assisted reviews","Publish a report on AI procurement guidelines","Foster AI adoption through targeted reviewer engagement"]},{"filename":"AABA-RFI-2025.txt","summary":"The Association for the Advancement of Business AI (AABA) submitted a response to the National Science Foundation's request for information concerning an AI Action Plan. AABA criticizes the previous Executive Order 14110 for its lack of actionable content and emphasizes the need for a framework that prioritizes national competitiveness and security while promoting innovation. Their recommendations include establishing a data sovereignty framework, resilience through standards, adaptive governance with scheduled reevaluation, national security integration, and a focus on dual-use AI technologies. AABA argues that ethical considerations should support strategic objectives rather than act as constraints, ensuring the U.S. maintains its technological leadership in AI development.","submitter_type":"Industry\/professional\/scientific association","agencies":["National Science Foundation (NSF)","National Institute of Standards and Technology (NIST)","Department of Defense (DoD)","Federal Trade Commission (FTC)","Department of Justice (DOJ)","California Consumer Privacy Act (CCPA)","Department of Energy (DOE)","Securities and Exchange Commission (SEC)","Food and Drug Administration (FDA)"],"interesting_quotes":["If the United States fails to maintain its technological and strategic dominance in AI, adversarial powers will dictate the future of global commerce, governance, and security.","Ethical AI should not be seen as a constraint \u2014it is a geopolitical tool.","To maintain global competitiveness and national security, AI regulation must be strategic and flexible, focusing on risk-based assessments rather than blanket restrictions."],"sentiment_rating":4,"sentiment_rationale":"The submission expresses a strong belief in the need for a competitive and innovative approach to AI development, emphasizing the importance of leadership and proactive measures in the field, which conveys a somewhat enthusiastic sentiment towards AI adoption.","main_topics":["Application and Use in the Private Sector","Application and Use in the Public Sector","Data Privacy and Security","Ethical AI Frameworks and Bias Mitigation","National Security and Defense","Innovation and Competition"],"additional_themes":["Geopolitical Influence","Regulatory Frameworks","Dual-Use Technology"],"keywords":["AI Action Plan","National Security","Data Sovereignty","Ethics","Innovation"],"policy_suggestions":["Establish federal tax incentives for businesses investing in on-premise AI infrastructure.","Create a national certification program for sovereign AI solutions.","Fund research into lightweight, efficient, on-premise AI models.","Direct NIST to establish open interoperability standards for AI model exchange.","Create sector-specific governance approaches for AI oversight."]},{"filename":"A-King-RFI-2025.txt","summary":"A. King, a student of AI Policy and Management at Purdue University, emphasizes the need for U.S. leadership in AI innovation while urging policymakers to prioritize consumer protection, transparency, and ethical governance over deregulation. The submission critiques the revocation of the Biden-Harris AI Executive Order 14110, arguing it undermines essential consumer safeguards and calls for mandatory risk assessments for high-impact AI applications, accountability structures for developers, and stronger data privacy protections. King advocates for a balanced AI Action Plan that fosters innovation while ensuring ethical oversight.","submitter_type":"Academia","agencies":["Office of Science and Technology Policy (OSTP)","National Artificial Intelligence Research and Development Strategic Coordination Office (NITRD NCO)"],"interesting_quotes":["A lack of safeguards exposes consumers to risks such as discrimination, misinformation, fraud, and privacy violations.","While accelerating AI leadership is essential, hasty deregulation can lead to long-term unintended consequences.","AI\u2019s potential to drive innovation, economic growth, and societal progress is undeniable."],"sentiment_rating":2,"sentiment_rationale":"The submission expresses concerns about deregulation leading to negative consequences for consumers and emphasizes the need for safeguards, indicating a somewhat worried sentiment towards AI adoption.","main_topics":["Data Privacy and Security","Ethical AI Frameworks and Bias Mitigation","Application and Use in the Public Sector"],"additional_themes":["Consumer Protection","Transparency","Accountability in AI Governance"],"keywords":["AI innovation","consumer protection","deregulation","transparency","ethical governance"],"policy_suggestions":["Implement mandatory risk assessments for high-impact AI applications.","Establish clear liability and accountability structures for AI developers.","Create a federal AI oversight task force with real-time regulatory adaptation authority.","Require ethical AI impact assessments before deploying AI in critical applications.","Encourage third-party AI audits to ensure transparency and compliance."]},{"filename":"AAU-AI-RFI-2025.txt","summary":"The Association of American Universities (AAU) expresses strong support for the development of an AI Action Plan, highlighting the transformative potential of AI in scientific research and the economy. They recommend a focused initiative to align government investments with industry and academia for developing AI tools and infrastructure to accelerate scientific discovery. Key actions include improving computational access for researchers, enhancing training for a competent workforce, and expanding basic and applied research funding across several federal agencies. They emphasize the unique strengths of universities in this landscape and stress the importance of a comprehensive strategy to maintain U.S. leadership in AI-enabled science.","submitter_type":"Industry\/professional\/scientific association","agencies":["Department of Energy (DOE)","National Science Foundation (NSF)","National Institutes of Health (NIH)","Department of Defense (DOD)"],"interesting_quotes":["AI-powered science is happening on AAU campuses across the country in genomics, novel material design, digital twins, robotics, and other fields.","This moment offers tremendous opportunity to gear federal policy toward AI-enabled science for U.S. leadership.","Such an opportunity, if missed, won\u2019t return."],"sentiment_rating":4,"sentiment_rationale":"The comments reflect a somewhat enthusiastic sentiment towards AI adoption, with a strong emphasis on the potential for AI to enhance scientific discovery and economic growth.","main_topics":["Application and Use in the Public Sector","Research and Development Funding Priorities","Workforce Development and Education","Innovation and Competition"],"additional_themes":["Collaboration between industry and academia","Promotion of ethical, transparent science"],"keywords":["AI Action Plan","scientific discovery","government investment","computational access","workforce training"],"policy_suggestions":["Build support for public compute in the FY 2026 Budget Request","Establish standards and practices to expand secure and responsible access to anonymized federal data","Support AI training and education initiatives"]},{"filename":"AAAI-AI-RFI-2025.txt","summary":"The Association for the Advancement of Artificial Intelligence (AAAI) emphasizes the importance of federal support for fundamental artificial intelligence (AI) research and development to ensure the US maintains its leadership in the field. They advocate for increased funding, secure AI development standards by the National Institute of Standards and Technology (NIST), and international collaboration on AI initiatives. AAAI outlines specific policy actions, including the support of AI research institutes and the establishment of safety standards to enhance the security of AI systems.","submitter_type":"Industry\/professional\/scientific association","agencies":["National Science Foundation (NSF)","National Institute of Standards and Technology (NIST)","Defense Department"],"interesting_quotes":["Fundamental AI research is necessary for future innovation as advancements and emerging technology development invariably rely on a comprehensive understanding of fundamental principles.","These institutes are driving discoveries that will ensure our country is at the forefront of the global AI revolution.","Global partnerships will be key in making viable technological advancements and fortifying national security through shared technological capabilities."],"sentiment_rating":4,"sentiment_rationale":"The AAAI expresses enthusiastic support for increased federal investment and collaboration in AI research, showcasing a positive outlook on the future of AI development and its potential societal benefits.","main_topics":["Research and Development Funding Priorities","Application and Use in the Private Sector","Application and Use in the Public Sector","Cybersecurity","International Collaboration"],"additional_themes":["Innovation and Competition","Workforce Development and Education"],"keywords":["AI research funding","fundamental research","security standards","international collaboration","innovation"],"policy_suggestions":["Include increasing federal investment in AI R&D in the President\u2019s Budget Request each year.","Support the NSF NAIRR and publicize the benefits it brings to the U.S. economy.","Establish a national award to incentivize and recognize AI technology advances.","Request funding for graduate student research fellowships.","Request increased funding in the NIST AI Safety Institute and grow its workforce by 10% each year.","Solicit input from various stakeholders to inform standards development."]},{"filename":"AAN-AI-RFI-2025.txt","summary":"The American Academy of Nursing expresses support for the development of an AI action plan by the National Science Foundation (NSF), emphasizing the need to address ethical issues, patient and clinician burdens, and data accuracy in AI implementation within healthcare. They advocate for investment in AI research and surveillance to enhance patient care and support for the nursing workforce, while also warning against potential negative impacts on patient safety and the nursing profession.","submitter_type":"Industry\/professional\/scientific association","agencies":["National Science Foundation (NSF)"],"interesting_quotes":["AI is no longer novel yet continues to evolve and is currently being utilized in a multitude of ways.","While there are clear and relevant efficiencies created through AI, the Academy remains concerned that the technology could further exacerbate access to care, patient safety, and privacy.","As such, nurses may have concerns regarding AI replacing their roles as nurses as well as how this technology could threaten the quality of care and safety of patients."],"sentiment_rating":3,"sentiment_rationale":"The submission presents a balanced view, acknowledging both the potential benefits of AI in healthcare and the concerns about its implications, indicating a neutral sentiment towards AI adoption.","main_topics":["Application and Use in the Public Sector","Ethical AI Frameworks and Bias Mitigation","Impact on Small Businesses","Data Accuracy, Validity, and Reliability","Research and Development Funding Priorities"],"additional_themes":["Patient care and safety","Healthcare workforce education"],"keywords":["AI action plan","healthcare","patient safety","nursing workforce","ethical issues"],"policy_suggestions":["Consider ethical issues associated with AI in the AI Action Plan.","Reduce regulatory and redundancy burdens on daily practice while balancing patient privacy protections.","Invest in research and post-market surveillance for AI in healthcare."]},{"filename":"AAP-AI-RFI-2025.txt","summary":"The American Academy of Pediatrics (AAP) submitted comments regarding the development of an Artificial Intelligence (AI) Action Plan, emphasizing the need for robust cybersecurity, careful model development, and the appropriate application of AI in pediatric healthcare. They advocate for transparency in AI tool usage, the incorporation of pediatric data in AI training, and the establishment of clear AI regulations to ensure safety and equity in outcomes for children. Additionally, they stress the importance of workforce education and robust data privacy protections for sensitive pediatric information.","submitter_type":"Non-profit","agencies":["National Science Foundation (NSF)","Office of Science and Technology Policy (OSTP)"],"interesting_quotes":["AI should be used to enhance, not replace, pediatric clinical decision-making.","A framework for the development of AI must account for the developmental stage of young people.","Children's data is particularly sensitive and has long-term implications for identity protection."],"sentiment_rating":4,"sentiment_rationale":"The AAP expresses enthusiasm for the potential of AI in pediatric healthcare, advocating for careful integration and guidelines to enhance outcomes while addressing concerns about safety and privacy.","main_topics":["Application and Use in the Public Sector","Data Privacy and Security","Cybersecurity","Model Development","Explainability and Assurance of AI Model Outputs"],"additional_themes":["Education and workforce development","Risks associated with AI technology"],"keywords":["pediatrics","artificial intelligence","cybersecurity","data privacy","model development"],"policy_suggestions":["Establish standard pre-procurement specific questions around AI products.","Implement specific guidelines for selecting authors and testers of AI models to minimize biases.","Incorporate strict privacy protections for pediatric data in AI systems."]},{"filename":"3C-AI-RFI-2025.txt","summary":"The Connected Commerce Council (3C), a nonprofit organization, emphasizes the importance of artificial intelligence (AI) for small businesses and urges the government to prioritize policies that facilitate their access to and adoption of AI technologies. They recommend promoting AI literacy and training, avoiding overly burdensome regulations, and establishing a federal AI privacy framework to simplify compliance. The submission expresses concern about the potential competitive disadvantage small businesses may face if regulations are too restrictive and underscores the need for thoughtful policies that encourage innovation and support small businesses.","submitter_type":"Non-profit","agencies":["National Science Foundation (NSF)","Office of Science and Technology Policy (OSTP)"],"interesting_quotes":["AI is a game-changer for America\u2019s 33.2 million small businesses.","Policymakers should support access to AI-powered tools by investing in small business-focused AI literacy and training programs.","A federal standard that provides a smart alternative to overly restrictive European AI privacy laws is critical to maintaining and enhancing America\u2019s leadership in AI innovation and adoption."],"sentiment_rating":4,"sentiment_rationale":"The submission expresses enthusiasm for the potential of AI to benefit small businesses while advocating for supportive policies, indicating a positive sentiment towards AI adoption.","main_topics":["Application and Use in the Private Sector","Workforce Development and Education","Specific Regulatory Approaches (e.g., sector-specific vs. broad)","Data Privacy and Security"],"additional_themes":[],"keywords":["AI adoption","small business","policy suggestions","regulation","AI literacy"],"policy_suggestions":["Promote AI literacy and training for small businesses.","Avoid overly burdensome regulations that disproportionately impact small businesses.","Establish a federal AI privacy framework to avoid state law patchwork."]},{"filename":"ABA-AI-RFI-2025.txt","summary":"The American Bankers Association (ABA) submits comments on the development of a U.S. AI Action Plan, emphasizing the need for a coherent regulatory framework that fosters AI innovation while managing risks. They highlight the interconnectedness of AI applications within the financial services sector and propose several high-level policy recommendations, including the establishment of baseline standards for AI risk management, the importance of cross-sector collaboration, and the need for transparency in regulatory practices.","submitter_type":"Industry\/professional\/scientific association","agencies":["National Science Foundation (NSF)","Federal Reserve (Fed)","Office of the Comptroller of the Currency (OCC)","Federal Deposit Insurance Corporation (FDIC)"],"interesting_quotes":["Without meaningful standards to channel efforts in a constructive manner, companies scrambling for dominance would be so many 'crabs in a bucket' seeking an edge over competitors.","The financial services sector can serve as an exemplar for responsible innovation of AI.","Dominance is achieved on a level playing field; not when government tips the scales in a particular stakeholder\u2019s direction."],"sentiment_rating":4,"sentiment_rationale":"The submission expresses a somewhat enthusiastic view of AI adoption, supporting innovation while calling for a structured regulatory framework to manage risks effectively.","main_topics":["Application and Use in the Private Sector","Regulatory Approaches","Risk Management of AI","Innovation and Competition"],"additional_themes":["Collaboration between industry and government","Transparency in regulatory practices"],"keywords":["AI Action Plan","risk management","financial services","innovation","regulation"],"policy_suggestions":["Congress must pass comprehensive laws establishing an AI risk management framework with strong preemptions of state requirements.","Agencies should identify clear regulatory outcomes and objectives.","The Federal Reserve, the Office of the Comptroller of the Currency, and the Federal Deposit Insurance Corporation should update model risk management guidance.","Policymakers should encourage adoption of voluntary standards and frameworks.","Develop a standardized disclosure template for validation exercises."]}];
            
            
            const fields = ["filename", "summary", "submitter_type", "agencies", "interesting_quotes", "sentiment_rating", "sentiment_rationale", "main_topics", "additional_themes", "keywords", "policy_suggestions"];
            const enumeratedFields = ["submitter_type", "sentiment_rating", "main_topics"];
            const enumeratedValues = {"submitter_type": ["Academia", "Industry/professional/scientific association", "Non-profit"], "sentiment_rating": [2, 3, 4], "main_topics": ["Application and Use in the Private Sector", "Application and Use in the Public Sector", "Cybersecurity", "Data Accuracy, Validity, and Reliability", "Data Privacy and Security", "Ethical AI Frameworks and Bias Mitigation", "Explainability and Assurance of AI Model Outputs", "Impact on Small Businesses", "Innovation and Competition", "International Collaboration", "Model Development", "National Security and Defense", "Regulatory Approaches", "Research and Development Funding Priorities", "Risk Management of AI", "Specific Regulatory Approaches (e.g., sector-specific vs. broad)", "Technical and Safety Standards", "Workforce Development and Education"]};
            const initialColumns = ["filename", "summary", "submitter_type", "main_topics"];
            
            // Pagination state
            let currentPage = 1;
            let rowsPerPage = 50;
            let filteredData = [];
            let visibleColumns = [...initialColumns]; // Start with initial columns
            
            // Filter state
            let activeFilters = {};
            let activeFilterDropdown = null;
            
            
            // For embedded version, initialize immediately
            document.addEventListener('DOMContentLoaded', initializeApp);
            
            
            function initializeApp() {
                // Initialize filteredData with all data
                filteredData = [...analysisData];
                
                // Display stats
                document.getElementById('totalSubmissions').textContent = analysisData.length;
                
                // Set up column selector
                setupColumnSelector();
                
                // Apply initial filtering and display
                updateTableHeaders();
                applyFiltersAndUpdateTable();
                
                // Set up event listeners
                document.getElementById('clearFilters').addEventListener('click', clearAllFilters);
                document.getElementById('downloadCsv').addEventListener('click', downloadFilteredCsv);
                document.getElementById('rowsPerPage').addEventListener('change', function() {
                    rowsPerPage = parseInt(this.value);
                    currentPage = 1; // Reset to first page
                    applyFiltersAndUpdateTable();
                });
                
                // Column selector toggle
                document.getElementById('columnSelector').addEventListener('click', function(e) {
                    e.stopPropagation();
                    document.getElementById('columnMenu').classList.toggle('show');
                });
                
                // Close dropdown when clicking outside
                document.addEventListener('click', function(e) {
                    if (!document.getElementById('columnSelectorContainer').contains(e.target)) {
                        document.getElementById('columnMenu').classList.remove('show');
                    }
                    
                    // Close any active filter dropdown if clicking outside
                    if (activeFilterDropdown && !activeFilterDropdown.contains(e.target) && 
                        !e.target.classList.contains('filter-toggle')) {
                        activeFilterDropdown.style.display = 'none';
                        activeFilterDropdown = null;
                    }
                });
                
                // Pagination controls
                document.getElementById('prevPage').addEventListener('click', () => changePage(-1));
                document.getElementById('nextPage').addEventListener('click', () => changePage(1));
                document.getElementById('prevPageBottom').addEventListener('click', () => changePage(-1));
                document.getElementById('nextPageBottom').addEventListener('click', () => changePage(1));
            }
            
            function setupColumnSelector() {
                const columnMenu = document.getElementById('columnMenu');
                columnMenu.innerHTML = '';
                
                // "Select All" option
                const selectAllDiv = document.createElement('div');
                selectAllDiv.className = 'flex items-center mb-2 pb-2 border-b border-gray-200';
                
                const selectAllCheckbox = document.createElement('input');
                selectAllCheckbox.type = 'checkbox';
                selectAllCheckbox.id = 'select-all-columns';
                selectAllCheckbox.className = 'mr-2 h-4 w-4 text-indigo-600';
                selectAllCheckbox.checked = visibleColumns.length === fields.length;
                
                selectAllCheckbox.addEventListener('change', function() {
                    const isChecked = this.checked;
                    
                    // Update all checkboxes
                    document.querySelectorAll('.column-checkbox').forEach(checkbox => {
                        checkbox.checked = isChecked;
                    });
                    
                    // Update visibleColumns
                    visibleColumns = isChecked ? [...fields] : [];
                    
                    // Redraw the table
                    updateTableHeaders();
                    displayPagedData();
                });
                
                const selectAllLabel = document.createElement('label');
                selectAllLabel.htmlFor = 'select-all-columns';
                selectAllLabel.textContent = 'Select All';
                selectAllLabel.className = 'font-semibold text-sm text-gray-700';
                
                selectAllDiv.appendChild(selectAllCheckbox);
                selectAllDiv.appendChild(selectAllLabel);
                columnMenu.appendChild(selectAllDiv);
                
                // Add individual column options
                fields.forEach(field => {
                    const div = document.createElement('div');
                    div.className = 'flex items-center mb-2';
                    
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.id = `column-${field}`;
                    checkbox.className = 'column-checkbox mr-2 h-4 w-4 text-indigo-600';
                    checkbox.dataset.column = field;
                    checkbox.checked = visibleColumns.includes(field);
                    
                    checkbox.addEventListener('change', function() {
                        const column = this.dataset.column;
                        
                        if (this.checked && !visibleColumns.includes(column)) {
                            visibleColumns.push(column);
                        } else if (!this.checked && visibleColumns.includes(column)) {
                            visibleColumns = visibleColumns.filter(col => col !== column);
                        }
                        
                        // Update "Select All" checkbox
                        document.getElementById('select-all-columns').checked = 
                            visibleColumns.length === fields.length;
                        
                        // Redraw the table
                        updateTableHeaders();
                        displayPagedData();
                    });
                    
                    const label = document.createElement('label');
                    label.htmlFor = `column-${field}`;
                    label.textContent = field;
                    label.className = 'text-sm text-gray-700';
                    
                    div.appendChild(checkbox);
                    div.appendChild(label);
                    columnMenu.appendChild(div);
                });
            }
            
            function updateTableHeaders() {
                const tableHeader = document.getElementById('tableHeader');
                tableHeader.innerHTML = '';
                
                const headerRow = document.createElement('tr');
                
                visibleColumns.forEach(field => {
                    const th = document.createElement('th');
                    th.className = 'py-3 px-4 border-b text-left text-xs font-semibold uppercase tracking-wider table-header';
                    
                    const thContainer = document.createElement('div');
                    thContainer.className = 'th-container';
                    
                    const fieldTitle = document.createElement('span');
                    fieldTitle.textContent = field;
                    thContainer.appendChild(fieldTitle);
                    
                    // Add filter toggle
                    const filterToggle = document.createElement('span');
                    filterToggle.className = 'filter-toggle';
                    filterToggle.innerHTML = `
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
                        </svg>
                    `;
                    
                    filterToggle.addEventListener('click', function(e) {
                        e.stopPropagation();
                        showFilterDropdown(field, e.target);
                    });
                    
                    thContainer.appendChild(filterToggle);
                    th.appendChild(thContainer);
                    headerRow.appendChild(th);
                });
                
                tableHeader.appendChild(headerRow);
            }
            
            function showFilterDropdown(field, element) {
                // Close any currently open dropdown
                if (activeFilterDropdown) {
                    activeFilterDropdown.style.display = 'none';
                }
                
                // Clone the dropdown template
                const dropdown = document.getElementById('filterDropdownTemplate').cloneNode(true);
                dropdown.id = `filterDropdown-${field}`;
                dropdown.dataset.field = field;
                
                // Position the dropdown
                const rect = element.getBoundingClientRect();
                dropdown.style.top = `${rect.bottom + window.scrollY}px`;
                dropdown.style.left = `${rect.left + window.scrollX - 200}px`; // Offset to align better
                
                // Set up content based on field type
                const isEnumerated = enumeratedFields.includes(field);
                const enumeratedOptionsContainer = dropdown.querySelector('.enumerated-options');
                const textSearchContainer = dropdown.querySelector('.text-search');
                
                if (isEnumerated) {
                    // Set up enumerated options (checkboxes)
                    enumeratedOptionsContainer.innerHTML = '';
                    const values = enumeratedValues[field] || [];
                    
                    values.forEach((value, index) => {
                        const div = document.createElement('div');
                        div.className = 'flex items-center mb-2';
                        
                        const checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.id = `${field}-value-${index}`;
                        checkbox.className = 'filter-checkbox mr-2 h-4 w-4 text-indigo-600';
                        checkbox.dataset.field = field;
                        checkbox.dataset.value = value;
                        
                        // Check if this filter is active
                        if (activeFilters[field] && 
                            activeFilters[field].type === 'enumerated' && 
                            activeFilters[field].values.includes(value)) {
                            checkbox.checked = true;
                        }
                        
                        checkbox.addEventListener('change', function() {
                            updateEnumeratedFilter(field, value, this.checked);
                        });
                        
                        const label = document.createElement('label');
                        label.htmlFor = `${field}-value-${index}`;
                        label.textContent = value;
                        label.className = 'text-sm text-gray-700';
                        
                        div.appendChild(checkbox);
                        div.appendChild(label);
                        enumeratedOptionsContainer.appendChild(div);
                    });
                    
                    textSearchContainer.style.display = 'none';
                } else {
                    // Set up text search
                    enumeratedOptionsContainer.style.display = 'none';
                    const input = textSearchContainer.querySelector('input');
                    input.dataset.field = field;
                    
                    // Set current value if there's an active filter
                    if (activeFilters[field] && activeFilters[field].type === 'text') {
                        input.value = activeFilters[field].value;
                    }
                    
                    input.addEventListener('input', function() {
                        updateTextFilter(field, this.value);
                    });
                }
                
                // Add to document and show
                document.body.appendChild(dropdown);
                dropdown.style.display = 'block';
                activeFilterDropdown = dropdown;
            }
            
            function updateEnumeratedFilter(field, value, isChecked) {
                // Initialize filter if needed
                if (!activeFilters[field]) {
                    activeFilters[field] = { type: 'enumerated', values: [] };
                }
                
                // Add or remove the value
                if (isChecked && !activeFilters[field].values.includes(value)) {
                    activeFilters[field].values.push(value);
                } else if (!isChecked && activeFilters[field].values.includes(value)) {
                    activeFilters[field].values = activeFilters[field].values.filter(v => v !== value);
                }
                
                // Remove filter if no values are selected
                if (activeFilters[field].values.length === 0) {
                    delete activeFilters[field];
                }
                
                // Apply filters
                applyFiltersAndUpdateTable();
            }
            
            function updateTextFilter(field, value) {
                if (value.trim() === '') {
                    // Remove filter if empty
                    if (activeFilters[field]) {
                        delete activeFilters[field];
                    }
                } else {
                    // Set or update filter
                    activeFilters[field] = { type: 'text', value: value.trim().toLowerCase() };
                }
                
                // Apply filters
                applyFiltersAndUpdateTable();
            }
            
            function clearAllFilters() {
                // Clear all active filters
                activeFilters = {};
                
                // Reset pagination
                currentPage = 1;
                
                // Reapply filters (which will now show all data)
                applyFiltersAndUpdateTable();
                
                // Close any active filter dropdown
                if (activeFilterDropdown) {
                    activeFilterDropdown.style.display = 'none';
                    activeFilterDropdown = null;
                }
            }
            
            function applyFiltersAndUpdateTable() {
                // Apply all filters
                filteredData = analysisData.filter(item => {
                    // Check all active filters
                    return Object.entries(activeFilters).every(([field, filter]) => {
                        const itemValue = item[field];
                        
                        if (itemValue === null || itemValue === undefined) {
                            return false;
                        }
                        
                        if (filter.type === 'text') {
                            // Text filter
                            return String(itemValue).toLowerCase().includes(filter.value);
                        } else if (filter.type === 'enumerated') {
                            // Enumerated filter (checkbox)
                            if (filter.values.length === 0) return true; // No filter selected
                            
                            // Handle array fields (like main_topics)
                            if (Array.isArray(itemValue)) {
                                return filter.values.some(value => itemValue.includes(value));
                            }
                            
                            // Handle scalar fields
                            return filter.values.includes(String(itemValue));
                        }
                        
                        return true;
                    });
                });
                
                // Update pagination info
                updatePaginationControls();
                
                // Display the filtered and paginated data
                displayPagedData();
            }
            
            function updatePaginationControls() {
                const totalPages = Math.max(1, Math.ceil(filteredData.length / rowsPerPage));
                
                // Ensure current page is valid
                if (currentPage > totalPages) {
                    currentPage = totalPages;
                }
                
                // Update page info displays
                document.getElementById('pageInfo').textContent = `Page ${currentPage} of ${totalPages}`;
                document.getElementById('pageInfoBottom').textContent = `Page ${currentPage} of ${totalPages}`;
                
                // Update table info
                const start = (currentPage - 1) * rowsPerPage + 1;
                const end = Math.min(start + rowsPerPage - 1, filteredData.length);
                document.getElementById('tableInfo').textContent = 
                    `Showing ${filteredData.length > 0 ? start : 0} to ${end} of ${filteredData.length} entries`;
                
                // Enable/disable prev/next buttons
                const prevButtons = [document.getElementById('prevPage'), document.getElementById('prevPageBottom')];
                const nextButtons = [document.getElementById('nextPage'), document.getElementById('nextPageBottom')];
                
                prevButtons.forEach(btn => {
                    btn.disabled = currentPage === 1;
                    btn.classList.toggle('opacity-50', currentPage === 1);
                });
                
                nextButtons.forEach(btn => {
                    btn.disabled = currentPage === totalPages;
                    btn.classList.toggle('opacity-50', currentPage === totalPages);
                });
            }
            
            function changePage(direction) {
                const totalPages = Math.ceil(filteredData.length / rowsPerPage);
                const newPage = currentPage + direction;
                
                if (newPage >= 1 && newPage <= totalPages) {
                    currentPage = newPage;
                    displayPagedData();
                    updatePaginationControls();
                    
                    // Scroll to top of table
                    document.getElementById('dataTable').scrollIntoView({ behavior: 'smooth' });
                }
            }
            
            function displayPagedData() {
                const tbody = document.querySelector('#dataTable tbody');
                tbody.innerHTML = '';
                
                if (filteredData.length === 0) {
                    const noDataRow = document.createElement('tr');
                    noDataRow.innerHTML = `<td colspan="${visibleColumns.length}" class="py-4 text-center">No matching records found</td>`;
                    tbody.appendChild(noDataRow);
                    return;
                }
                
                const start = (currentPage - 1) * rowsPerPage;
                const pagedData = filteredData.slice(start, start + rowsPerPage);
                
                pagedData.forEach((item, index) => {
                    const row = document.createElement('tr');
                    row.className = 'table-row hover:bg-gray-100 transition-colors';
                    
                    visibleColumns.forEach(field => {
                        const cell = document.createElement('td');
                        cell.className = 'py-3 px-4 border-b';
                        
                        let content = item[field];
                        
                        // Format array values
                        if (Array.isArray(content)) {
                            content = content.join(', ');
                        }
                        
                        // Handle null/undefined values
                        cell.innerHTML = (content !== undefined && content !== null) ? content : '';
                        
                        row.appendChild(cell);
                    });
                    
                    tbody.appendChild(row);
                });
            }
            
            function downloadFilteredCsv() {
                // Use only currently filtered data and visible columns
                const dataToExport = filteredData.map(item => {
                    const exportItem = {};
                    visibleColumns.forEach(field => {
                        let value = item[field];
                        // Convert arrays to comma-separated strings for CSV
                        if (Array.isArray(value)) {
                            value = value.join(', ');
                        }
                        exportItem[field] = value;
                    });
                    return exportItem;
                });
                
                const csv = Papa.unparse(dataToExport);
                const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
                const url = URL.createObjectURL(blob);
                const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
                
                const link = document.createElement('a');
                link.setAttribute('href', url);
                link.setAttribute('download', `public_comments_analysis_${timestamp}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        </script>
    </body>
    </html>
    